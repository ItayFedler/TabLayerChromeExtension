var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(b){return b.raw=b};$jscomp.createTemplateTagFirstArgWithRaw=function(b,c){b.raw=c;return b};var arrayfilters,getJson=function(){var b=null;$.ajax({async:!1,global:!1,url:"./items.json",dataType:"json",success:function(c){b=c;b=b.map(function(b){b=Object.assign({},b);b.id=parseInt(b.id);return b})}});return b};
function dynamicSort(b){var c=1;"-"===b[0]&&(c=-1,b=b.substr(1));return function(d,a){return(d[b]>a[b]?-1:d[b]<a[b]?1:0)*c}}
function renderItems(b,c){c=void 0===c?"grid":c;$(".result_body").attr("class","result_body");var d="";0<b.length?b.forEach(function(a,b){d+='<div class="item" data-id="'+a.id+'">';d="list"==c?d+("\n          <div class=\"item_img_2\">\n            <img src='loading.gif' class='loading'>\n            <img src=\""+a.image_1+'" alt="" loading="lazy"/>\n          </div>\n          <div class="item_img_1">\n          <div class="item_img_btns">\n              <button id=\'item_delete\' data-id="'+a.id+
"\" class='item_img_btn'><img src='delete-tab.png'></button>\n        <button id='item_lock' data-id=\""+a.id+"\" class='item_img_btn'><img src='eye-blue.png'></button>\n            </div>\n            <img src='placeholder-image.png' class='loading'>\n            <img class='main_img' id='main_img' src=\""+a.image_2+'" alt="" loading="lazy"/>\n          </div>\n          <div class="item_desc">\n            <h2 class="item_group">\n              '+a.group+'\n            </h2>\n            <p class="item_title">\n              '+
a.title+"\n            </p>\n          </div>\n        "):d+('\n          <div class="item_img_1">\n          <div class="item_img_btns">\n              <button id=\'item_delete\' data-id="'+a.id+"\" class='item_img_btn'><img src='delete-tab.png'></button>\n        <button id='item_lock' data-id=\""+a.id+"\" class='item_img_btn'><img src='eye-blue.png'></button>\n            </div>\n            <img src='placeholder-image.png' class='loading' >\n            <img class='main_img' id='main_img' src=\""+
a.image_2+'" alt="" loading="lazy"/>\n          </div>\n          <div class="item_desc">\n            <div class="item_img_2">\n              <img src=\'loading.gif\' class=\'loading\'>\n              <img src="'+a.image_1+'" alt="" loading="lazy"/>\n            </div>\n            <div class="item_desc_container">\n              <p class="item_title">\n                '+a.title+'\n              </p>\n              <h2 class="item_group">\n                '+a.group+"\n              </h2>\n            </div>\n          </div>\n          ");
d+="</div>"}):d+="<p style='text-align:center;'>Sorry, No data found !</p>";$(".result_body").html(d);$(".result_body").addClass(c+"_view");$(".cs_list_items .filters .display_type button").removeClass("active");$(".cs_list_items .filters .display_type button#"+c+"_view").addClass("active");$(".cs_list_items .result_body img.loading").each(function(){var a=this;$(this).siblings().on("load",function(){$(a).fadeOut()})})}
function renderInitial(b,c){c=void 0===c?"grid":c;var d='<div class="boxed">\n    <div class="filters">\n      <div class="search-bar">\n        <i class="ion ion-ios-search-strong"></i>\n        <input type="text" name="search" placeholder="Filter" value="" />\n      </div>\n      <div class="sort_by">\n        <label for="sort_by">Sort</label>\n        <select class="" name="sort_by">\n          <option value="3">Chrome</option>\n          <option value="1">Sites</option>\n          <option value="2">Recent</option>\n\n        </select>\n      </div>\n      <div class="display_type">\n        <button type="button" name="button" id="grid_view">\n          <i class="ion-ios-grid-view-outline"></i>\n        </button>\n        <button type="button" name="button" id="list_view">\n          <i class="ion-ios-list-outline"></i>\n        </button>\n      </div>\n    </div>\n    <div class="settings_icon"><i class="ion ion-android-settings"></i></div>\n    <div class="result_body '+c+
'_view">\n  </div></div>';$(".cs_list_items").html(d);renderItems(b,c)}
$(document).ready(function(){chrome.windows.getCurrent(function(b){arrayfilters=[];chrome.storage.local.get(["tabjson","filtersjson"],function(c){var d=c.tabjson.filter(function(a){return a.winId==b.id});arrayfilters=c.filtersjson;void 0===arrayfilters&&(arrayfilters={view:"grid",sort:"3",filter:""});console.log(d);var a=d,e=arrayfilters.view;renderInitial(d);a=d.filter(function(a){return a.group.includes(arrayfilters.filter)||a.title.includes(arrayfilters.filter)});"0"==arrayfilters.sort?a=a.sort(dynamicSort("id")):
"1"==arrayfilters.sort?a=a.sort(dynamicSort("group")):"2"==arrayfilters.sort?a=a.sort(dynamicSort("last_seen")):"3"==arrayfilters.sort&&(a=a.sort(dynamicSort("index")));renderItems(a,e);$(".cs_list_items .filters .display_type button#grid_view").bind("click",function(){renderItems(a,"grid");e="grid";arrayfilters.view="grid";updateStorage()});$(".cs_list_items .filters .display_type button#list_view").bind("click",function(){renderItems(a,"list");e="list";arrayfilters.view="list";arrayfilters.view=
"list";updateStorage()});$(".cs_list_items .filters .sort_by select").val(arrayfilters.sort);$(".cs_list_items .filters .sort_by select").on("change",function(){var b=$(this).val();"0"==b?(a=a.sort(dynamicSort("id")),renderItems(a,e),arrayfilters.sort="0"):"1"==b?(a=a.sort(dynamicSort("group")),renderItems(a,e),arrayfilters.sort="1"):"2"==b?(a=a.sort(dynamicSort("last_seen")),renderItems(a,e),arrayfilters.sort="2"):"3"==b&&(a=a.sort(dynamicSort("index")),renderItems(a,e),arrayfilters.sort="3");updateStorage()});
$(".cs_list_items .filters .search-bar input").val(arrayfilters.filter);$(".cs_list_items .filters .search-bar input").on("keyup",function(){var b=$(this).val();a=d.filter(function(a){return a.group.includes(b)||a.title.includes(b)});renderItems(a,e);arrayfilters.filter=b;updateStorage()});$(document).on("click",".cs_list_items .item",function(){var a=$(this).attr("data-id");chrome.tabs.query({currentWindow:!0},function(b){if(1!==b.length){chrome.tabs.get(parseInt(a),function(a){chrome.tabs.highlight({tabs:a.index},
function(){})});var c=null;b.forEach(function(a,b){!0===a.active&&(c=b)});chrome.tabs.update(b[(c+1)%b.length].id,{active:!0})}})});$(document).on("click",".cs_list_items .settings_icon",function(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL("options2.html#settings"))});$(document).on("click",".cs_list_items .item .item_img_btns #item_delete",function(b){b.stopPropagation();var c=$(this).attr("data-id");a=a.filter(function(a){return a.id!=parseInt(c)});
d=d.filter(function(a){return a.id!=parseInt(c)});renderItems(a,e);chrome.runtime.sendMessage({message:"removed",tabid:c},function(a){console.log("removed")})});$(document).on("click",".cs_list_items .item .item_img_btns #item_lock",function(b){b.stopPropagation();var c=$(this).attr("data-id");b=a.filter(function(a){return a.id==parseInt(c)});0<b.length&&chrome.runtime.sendMessage({message:"toggleBlacklisted",domain:extractHostname(b[0].group)},function(a){console.log("blacklisted");alert("Added to Thumbnail exclude list")})})})})});
function updateStorage(){console.log(arrayfilters);chrome.storage.local.set({filtersjson:arrayfilters},function(){})}function extractHostname(b){b=-1<b.indexOf("//")?b.split("/")[2]:b.split("/")[0];b=b.split(":")[0];return b=b.split("?")[0]};